(()=>{"use strict";var e={searchText:"",hideCompleted:!1},t=function(){return e};const n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o;const r=new Uint8Array(16);function c(){if(!o&&(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(r)}const d=[];for(let e=0;e<256;++e)d.push((e+256).toString(16).slice(1));const u=function(e,t,o){if(n.randomUUID&&!t&&!e)return n.randomUUID();const r=(e=e||{}).random||(e.rng||c)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){o=o||0;for(let e=0;e<16;++e)t[o+e]=r[e];return t}return function(e,t=0){return d[e[t+0]]+d[e[t+1]]+d[e[t+2]]+d[e[t+3]]+"-"+d[e[t+4]]+d[e[t+5]]+"-"+d[e[t+6]]+d[e[t+7]]+"-"+d[e[t+8]]+d[e[t+9]]+"-"+d[e[t+10]]+d[e[t+11]]+d[e[t+12]]+d[e[t+13]]+d[e[t+14]]+d[e[t+15]]}(r)};var i=t(),a=function(){if(i.searchText){var e=todos.filter((function(e){return e.text.toLowerCase().includes(i.searchText.toLowerCase())})),t=document.createElement("p");t.textContent="You have ".concat(e.length," items that matches your search"),document.querySelector("#todos").appendChild(t),document.querySelector("#todos").innerHTML="",s(e,"#todos")}else document.querySelector("#todos").innerHTML="",s(f(),"#todos")},s=function(e,t){e&&e.forEach((function(e){var n=document.createElement("div"),o=document.createElement("label"),r=document.createElement("input"),c=document.createElement("span"),d=document.createElement("button");r.setAttribute("type","checkbox"),r.checked=e.completed,n.appendChild(r),r.addEventListener("change",(function(t){l(e.id)})),1==e.completed?c.style.textDecoration="line-through":c.style.textDecoration="none",c.textContent=e.text,n.appendChild(c),o.classList.add("list-item"),n.classList.add("list-item__container"),o.appendChild(n),d.textContent="remove",d.classList.add("button","button--text"),o.appendChild(d),d.addEventListener("click",(function(){h(e.id)})),document.querySelector(t).appendChild(o)}))},l=function(e){var t=function(e){return f().findIndex((function(t){return t.id===e}))}(e);t>-1&&(f()[t].completed=!0),p()},m=[],p=function(){localStorage.setItem("todos",JSON.stringify(m))},f=function(){return m},h=function(e){var t=function(e){return m.findIndex((function(t){return t.id===e}))}(e);t>-1&&m.splice(t,1),p(),a()};a();var y=t();document.querySelector("#search-todo").addEventListener("input",(function(e){y.searchText=e.target.value,a()})),document.querySelector("#todo-form").addEventListener("submit",(function(e){var t=e.target.elements.todoText.value.trim();e.preventDefault(),function(e){m.push({id:u(),text:e,completed:!1}),p()}(t),a(),e.target.elements.todoText.value=""})),document.querySelector("#hide-complete").addEventListener("change",(function(e){return y.hideCompleted=e.target.checked,1==y.hideCompleted?(n=f().filter((function(e){return e.text.toLowerCase().includes(i.searchText.toLowerCase())})),1==i.hideCompleted&&(t=n.filter((function(e){return 0==e.completed})),console.log(t)),document.querySelector("#todos").innerHTML="",void t.forEach((function(e){var t=document.createElement("p");t.textContent=e.text,document.querySelector("#todos").appendChild(t)}))):a();var t,n})),window.addEventListener("storage",(function(e){"todos"===e.key&&(function(){var e=localStorage.getItem("todos");try{return e?JSON.parse(e):[]}catch(e){return[]}}(),a())}))})();
//# sourceMappingURL=bundle.js.map